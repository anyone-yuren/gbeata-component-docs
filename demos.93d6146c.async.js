"use strict";(self.webpackChunkgbeata=self.webpackChunkgbeata||[]).push([[2433,7410,6783],{41653:function(O,v,a){a.r(v),a.d(v,{default:function(){return t}});var u=a(72557),d=a(62273),b=a(52983),r=a(86783),C=a(97458),f=[{title:"\u82F1\u6587\u540D",key:"en",width:100,editable:!0,renderType:"editable-cell-input"},{title:"\u590D\u6742\u7684\u59D3\u540D\u7F16\u8F91",key:"cn",width:300,editable:!0,renderType:"editable-cell-input",editableCellStyle:{width:200,display:"inline-block"},before:function(s){var o=s.record,y=s.field,g=s.refreshRow;return(0,C.jsx)(u.ZP,{style:{marginRight:8},onClick:function(){o.color=o.color==="red"?"blue":"red",g()},children:"\u6362\u8272"})},after:function(s){var o=s.record;return(0,C.jsxs)("div",{style:{color:o.color||"#ccc"},children:["\u53EF\u4EE5\u6362\u8272\uFF1A",o.cn]})},contentProps:{allowClear:!0},formItemProps:{style:{display:"inline-block",width:100,marginBottom:0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D"}]}},{title:"\u804C\u4E1A",key:"class",type:"select",options:r.professionOptions,width:200,editable:!0,renderType:"editable-cell-select",contentProps:{allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u804C\u4E1A"}]}}],E=[{cn:"\u963F\u7C73\u5A05",en:"Multiway",class:"\u672F\u5E08",sort_id:55},{cn:"\u80FD\u5929\u4F7F",en:"Exusiai",class:"\u72D9\u51FB",sort_id:73}];function t(){var c=(0,b.useRef)(null),s=function(){alert("\u8BF7\u5728 console \u67E5\u770B\u6253\u5370\u7684\u6570\u636E"),console.log(c.current.getTableData())};return(0,C.jsx)(d.GSearchTable,{ref:c,searchVisible:!1,fields:f,data:E,editMode:"col",rowKey:"sort_id",title:"\u53EF\u7F16\u8F91\u5355\u5143\u683C",children:(0,C.jsx)(d.GButton,{type:"primary",onClick:s,children:"\u6253\u5370\u8868\u683C\u6570\u636E"})})}},15592:function(O,v,a){a.r(v),a.d(v,{default:function(){return t}});var u=a(62273),d=a(52983),b=a(86783),r=a(97458),C=[{title:"\u59D3\u540D",key:"cn",width:200,editable:!0,renderType:"editable-cell-input",contentProps:{allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D"}]}},{title:"\u804C\u4E1A",key:"class",type:"select",options:b.professionOptions,width:200,editable:!0,renderType:"editable-cell-select",contentProps:{allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u804C\u4E1A"}]}},{title:"\u7F16\u53F7",key:"code",editable:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F16\u53F7"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}}],f=[{cn:"\u963F\u7C73\u5A05",en:"Multiway",class:"\u672F\u5E08",code:"1",sort_id:55},{cn:"\u80FD\u5929\u4F7F",en:"Exusiai",class:"\u72D9\u51FB",code:"2",sort_id:73}],E={width:200,render:function(s,o){var y=[];return o.editing?y=[(0,r.jsx)(u.GAction,{action:"editable-confirm",record:o,children:"\u786E\u5B9A"},"editable-confirm"),(0,r.jsx)(u.GAction,{action:"editable-cancel",record:o,children:"\u53D6\u6D88"},"editable-cancel")]:y=[(0,r.jsx)(u.GAction,{action:"editable-update",record:o,children:"\u7F16\u8F91"},"editable-update"),(0,r.jsx)(u.GAction,{action:"editable-delete",record:o,children:"\u5220\u9664"},"editable-delete")],(0,r.jsx)(u.GCtrl,{children:y})}};function t(){var c=(0,d.useRef)(null),s=function(){alert("\u8BF7\u5728 console \u67E5\u770B\u6253\u5370\u7684\u6570\u636E"),console.log(c.current.getTableData())};return(0,r.jsx)(u.GSearchTable,{ref:c,searchVisible:!1,pagination:!1,data:f,fields:C,ctrl:E,editMode:"row",rowKey:"sort_id",title:"\u53EF\u7F16\u8F91\u884C",after:(0,r.jsx)(u.GAction,{action:"editable-add",children:"\u65B0\u589E"}),children:(0,r.jsx)(u.GButton,{type:"primary",onClick:s,children:"\u6253\u5370\u8868\u683C\u6570\u636E"})})}},71190:function(O,v,a){a.r(v),a.d(v,{default:function(){return g}});var u=a(45332),d=a.n(u),b=a(73193),r=a.n(b),C=a(13427),f=a(62273),E=a(52983),t=a(97458),c=[{id:1,cname:"\u963F\u7C73\u5A05",name:"Multiway",cg:"https://misc.hzzcckj.cn/upload/image/202010/aaaa793df000000.png",star:5},{id:2,cname:"\u80FD\u5929\u4F7F",name:"Exusiai",cg:"https://misc.hzzcckj.cn/upload/image/202010/aaaa7a7e6000000.png",star:6},{id:3,cname:"\u7455\u5149",name:"Blemishine",cg:"https://misc.hzzcckj.cn/upload/image/202010/aaaa7b481c00000.png",star:6}];function s(n){var e=n.chara,i=n.onClick,l=n.value;return(0,t.jsxs)("div",{className:"chara-card",onClick:i,children:[(0,t.jsx)("header",{className:"rarity",children:"".padEnd(e.star*2,"\u2B50\uFE0F")}),(0,t.jsx)("img",{className:"cg",src:e.cg}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"shadow"}),(0,t.jsxs)("div",{className:"name",children:[(0,t.jsx)("div",{children:e.name}),(0,t.jsx)("div",{className:"cname",children:e.cname})]}),l===e.id&&(0,t.jsx)("div",{className:"checked",children:"\u5DF2\u9009\u62E9"})]})}function o(n){var e=n.value,i=n.onChange,l=n.readonly,_=(0,E.useState)(e||""),D=d()(_,2),m=D[0],h=D[1],j=(0,E.useState)(!1),A=d()(j,2),p=A[0],P=A[1],T=(0,E.useMemo)(function(){return c.find(function(x){return x.id===e})},[e]),M=function(){h(e||""),P(!0)},w=function(){i&&i(m),P(!1)},R=function(){h(""),i&&i("")},S=l?(0,t.jsx)("div",{}):(0,t.jsx)(f.GButton,{onClick:M,children:"\u89D2\u8272\u9009\u62E9"});if(T){if(l)return(0,t.jsx)(s,{chara:T,onClick:M});S=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{chara:T,onClick:M}),(0,t.jsx)("p",{children:(0,t.jsx)(f.GButton,{onClick:R,children:"\u6E05\u7A7A"})})]})}return(0,t.jsxs)("div",{className:"chara-select",children:[S,l?(0,t.jsx)("div",{className:"g-form-text",children:"-"}):(0,t.jsx)(f.GDialog,{title:"\u89D2\u8272\u9009\u62E9",visible:p,setVisible:P,onConfirm:w,children:c.map(function(x){return(0,t.jsx)(s,{value:m,chara:x,onClick:function(){return h(x.id)}},x.id)})})]})}(0,f.registerField)("chara-select",{type:"chara-select",defaultValue:"",render:function(e){var i=e.field,l=e.readonly;return(0,t.jsx)(o,r()({readonly:l},i.props))}});var y=[{title:"\u59D3\u540D",key:"input"},{title:"\u9009\u62E9\u4EBA\u7269",type:"chara-select",key:"chara",required:!0}];function g(){var n=(0,E.useState)(!1),e=d()(n,2),i=e[0],l=e[1],_=function(m){console.log(m),alert(JSON.stringify(m))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("label",{style:{marginRight:4},children:"\u53EA\u8BFB\u6A21\u5F0F"}),(0,t.jsx)(C.Z,{defaultChecked:i,onChange:function(m){return l(m)}})]}),(0,t.jsx)(f.GForm,{readonly:i,fields:y,style:{width:400,margin:"0 auto"},onConfirm:_,children:(0,t.jsx)(f.GButton,{type:"primary",htmlType:"submit",style:{marginLeft:120},children:"\u63D0\u4EA4"})})]})}},86783:function(O,v,a){a.r(v),a.d(v,{addApi:function(){return t},deleteApi:function(){return o},detailApi:function(){return s},emptyApi:function(){return E},errorApi:function(){return y},listApi:function(){return f},professionOptions:function(){return b},updateApi:function(){return c}});var u=a(73193),d=a.n(u),b=[{label:"\u8FD1\u536B\u5E72\u5458",value:"\u8FD1\u536B"},{label:"\u72D9\u51FB\u5E72\u5458",value:"\u72D9\u51FB"},{label:"\u672F\u5E08\u91CD\u88C5",value:"\u672F\u5E08"},{label:"\u533B\u7597\u5E72\u5458",value:"\u533B\u7597"},{label:"\u91CD\u88C5\u5E72\u5458",value:"\u91CD\u88C5"},{label:"\u8F85\u52A9\u5E72\u5458",value:"\u8F85\u52A9"},{label:"\u7279\u79CD\u5E72\u5458",value:"\u7279\u79CD"},{label:"\u5148\u950B\u5E72\u5458",value:"\u5148\u950B"}],r=[],C=function(){if(!r.length){var n=localStorage.getItem("CHARA_DATA_1015");if(n)r=JSON.parse(n);else{var e=new Headers;e.append("User-Agent","Apifox/1.0.0 (https://www.apifox.cn)"),e.append("Accept","*/*"),e.append("Host","mock.apifox.cn"),e.append("Connection","keep-alive");var i={method:"GET",headers:e,redirect:"follow"};fetch("https://mock.apifox.cn/m1/1983926-0-default/api/list",i).then(function(l){return l.json()}).then(function(l){r=l,localStorage.setItem("CHARA_DATA_1015",JSON.stringify(r))})}}};C();var f=function(n){console.info("\u5217\u8868\u8BF7\u6C42\u6570\u636E",n);var e=d()(d()({},n.search),n.filters);return new Promise(function(i){setTimeout(function(){var l=r.filter(function(h){var j=!0;for(var A in e){var p=e[A];h.hasOwnProperty(A)&&h[A]!==void 0&&p!==null&&(Array.isArray(p)&&!p.includes(h[A])||typeof p=="number"&&Number(h[A])===p||typeof p=="string"&&!(h[A]+"").includes(p+""))&&(j=!1)}return j}),_=n.sorts||[];_.forEach(function(h){var j=h.key,A=h.order;l.sort(function(p,P){return A==="descend"?p[j]-P[j]:P[j]-p[j]})});var D=l.length,m=n.pagination;l=l.slice(m.pageSize*(m.current-1),m.pageSize*m.current),i({content:l,totalCount:D})},300)})},E=function(n){return new Promise(function(e){setTimeout(function(){e({msg:"\u8BF7\u6C42\u6210\u529F"})},300)})},t=function(n){return new Promise(function(e){r.unshift(d()({id:Date.now(),sort_id:Date.now()},n)),e({msg:"\u8BF7\u6C42\u6210\u529F",data:Date.now()})})},c=function(n){return new Promise(function(e){var i=r.findIndex(function(l){return l.sort_id===n.sort_id});i>=0&&r[i]&&(r[i]=d()(d()({},r[i]),n)),e({msg:"\u8BF7\u6C42\u6210\u529F",data:r[i]})})},s=function(n){return new Promise(function(e){setTimeout(function(){e({msg:"\u8BF7\u6C42\u6210\u529F",data:r.find(function(i){return i.sort_id===n})})},500)})},o=function(n){return new Promise(function(e){r=r.filter(function(i){return!n.includes(i.sort_id)}),e({msg:"\u5220\u9664\u6210\u529F",data:null})})},y=function(n){return new Promise(function(e,i){i({msg:"\u8BF7\u6C42\u5931\u8D25",data:Date.now()})})}}}]);
